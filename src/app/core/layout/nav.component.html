<!-- Sidebar Navigation -->
<nav class="d-flex flex-column bg-dark text-white p-0 position-fixed position-lg-static h-100 overflow-auto"
     [ngClass]="{'d-none': !isOpen, 'd-block': isOpen, 'd-lg-flex': true}"
     style="width: 250px; z-index: 1000;">
  
  <!-- Brand -->
  <div class="p-3 border-bottom border-secondary">
    <h5 class="mb-0 text-center fw-bold">AksisOn</h5>
  </div>

  <!-- Navigation Menu -->
  <ul class="nav nav-pills flex-column p-2">
    
    <!-- Ana Sayfa -->
    <li class="nav-item mb-1">
      <a routerLink="/" 
         routerLinkActive="active"
         [routerLinkActiveOptions]="{exact: true}"
         (click)="closeSidebar()"
         class="nav-link text-white d-flex align-items-center py-2 px-3 rounded">
        <i class="bi bi-house me-2"></i>
        Ana Sayfa
      </a>
    </li>

    <!-- Kullanıcılar -->
    <li class="nav-item mb-1">
      <div>
        <a (click)="toggleSubmenu('Kullanıcılar')"
           class="nav-link text-white d-flex align-items-center justify-content-between py-2 px-3 rounded cursor-pointer">
          <span>
            <i class="bi bi-people me-2"></i>
            Kullanıcılar
          </span>
          <i [class]="'bi ' + (isExpanded('Kullanıcılar') ? 'bi-chevron-up' : 'bi-chevron-down')"></i>
        </a>
        <!-- Submenu -->
        @if (isExpanded('Kullanıcılar')) {
          <ul class="nav flex-column ms-3">
            <li class="nav-item">
              <a routerLink="/kullanici" 
                 routerLinkActive="active"
                 [routerLinkActiveOptions]="{exact: true}"
                 (click)="closeSidebar()"
                 class="nav-link text-white d-flex align-items-center py-2 px-3 rounded">
                <i class="bi bi-list-ul me-2"></i>
                Tüm Kullanıcılar
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/kullanici/yeni" 
                 routerLinkActive="active"
                 [routerLinkActiveOptions]="{exact: true}"
                 (click)="closeSidebar()"
                 class="nav-link text-white d-flex align-items-center py-2 px-3 rounded">
                <i class="bi bi-person-plus me-2"></i>
                Yeni Kullanıcı
              </a>
            </li>
          </ul>
        }
      </div>
    </li>

    <!-- Roller -->
    <li class="nav-item mb-1">
      <a routerLink="/rol" 
         routerLinkActive="active"
         (click)="closeSidebar()"
         class="nav-link text-white d-flex align-items-center py-2 px-3 rounded">
        <i class="bi bi-shield-check me-2"></i>
        Roller
      </a>
    </li>

    <!-- Video Dersler -->
    <li class="nav-item mb-1">
      <div>
        <a (click)="toggleSubmenu('VideoDersler')"
           class="nav-link text-white d-flex align-items-center justify-content-between py-2 px-3 rounded cursor-pointer">
          <span>
            <i class="bi bi-play-circle me-2"></i>
            Video Dersler
          </span>
          <i [class]="'bi ' + (isExpanded('VideoDersler') ? 'bi-chevron-up' : 'bi-chevron-down')"></i>
        </a>
        <!-- Submenu -->
        @if (isExpanded('VideoDersler')) {
          <ul class="nav flex-column ms-3">
            <li class="nav-item">
              <a routerLink="/videoders" 
                 routerLinkActive="active"
                 [routerLinkActiveOptions]="{exact: true}"
                 (click)="closeSidebar()"
                 class="nav-link text-white d-flex align-items-center py-2 px-3 rounded">
                <i class="bi bi-list-ul me-2"></i>
                Tüm Dersler
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/videoders/new" 
                 routerLinkActive="active"
                 [routerLinkActiveOptions]="{exact: true}"
                 (click)="closeSidebar()"
                 class="nav-link text-white d-flex align-items-center py-2 px-3 rounded">
                <i class="bi bi-plus-circle me-2"></i>
                Yeni Ders
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/videoders/by-proje-yoneticisi" 
                 routerLinkActive="active"
                 [routerLinkActiveOptions]="{exact: true}"
                 (click)="closeSidebar()"
                 class="nav-link text-white d-flex align-items-center py-2 px-3 rounded">
                <i class="bi bi-person-badge me-2"></i>
                Proje Yöneticisine Göre
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/videoders/by-materyal-gelistirici" 
                 routerLinkActive="active"
                 [routerLinkActiveOptions]="{exact: true}"
                 (click)="closeSidebar()"
                 class="nav-link text-white d-flex align-items-center py-2 px-3 rounded">
                <i class="bi bi-pencil-square me-2"></i>
                Materyal Geliştiriciye Göre
              </a>
            </li>
          </ul>
        }
      </div>
    </li>

    <!-- Kategoriler -->
    <li class="nav-item mb-1">
      <a routerLink="/kategori" 
         routerLinkActive="active"
         (click)="closeSidebar()"
         class="nav-link text-white d-flex align-items-center py-2 px-3 rounded">
        <i class="bi bi-tags me-2"></i>
        Kategoriler
      </a>
    </li>

  </ul>

  <!-- Footer Info -->
  <div class="mt-auto p-3 border-top border-secondary text-center">
    <small class="text-muted">© 2025 AksisOn</small>
  </div>
</nav>

<!-- Mobile Overlay -->
<div class="position-fixed top-0 start-0 w-100 h-100 bg-dark bg-opacity-50 d-lg-none"
     [ngClass]="{'d-block': isOpen, 'd-none': !isOpen}"
     style="z-index: 999;"
     (click)="closeSidebar()">
</div>